get:
  tags: [Contacts]
  summary: Получить список контактов (пагинация/фильтры/сортировка)
  parameters:
    - $ref: ../../components/parameters.yaml#/Page
    - $ref: ../../components/parameters.yaml#/PerPage
    - $ref: ../../components/parameters.yaml#/IsFavourite
    - $ref: ../../components/parameters.yaml#/Type
    - $ref: ../../components/parameters.yaml#/SortBy
    - $ref: ../../components/parameters.yaml#/SortOrder
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../../components/schemas/ApiResponse.yaml
              - type: object
                properties:
                  data:
                    $ref: ../../components/schemas/ContactsListData.yaml
          examples:
            ok:
              value:
                status: success
                message: Contacts list
                data:
                  items:
                    - id: "6640d1f3aa11bb22cc33dd44"
                      name: "John Doe"
                      phoneNumber: "+1-202-555-0123"
                      email: "john@example.com"
                      isFavourite: true
                      photo: "https://res.cloudinary.com/demo/image/upload/v123/photo.jpg"
                      contactType: personal
                      userId: "663fa5a0e0e0e0e0e0e0e0e0"
                  page: 1
                  perPage: 20
                  totalItems: 42
                  totalPages: 3
                  hasPreviousPage: false
                  hasNextPage: true
    '401':
      description: Не авторизовано
      content:
        application/json:
          schema: { $ref: ../../components/schemas/ApiResponse.yaml }
          examples:
            unauth:
              value: { status: error, message: "Not authorized", data: null }

post:
  tags: [Contacts]
  summary: Создать контакт (multipart/form-data)
  requestBody:
    required: true
    content:
      multipart/form-data:
        schema:
          $ref: ../../components/schemas/ContactCreate.yaml
  responses:
    '201':
      description: Создано
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../../components/schemas/ApiResponse.yaml
              - type: object
                properties:
                  data:
                    $ref: ../../components/schemas/Contact.yaml
    '400':
      description: Ошибка валидации
      content:
        application/json:
          schema: { $ref: ../../components/schemas/ApiResponse.yaml }
          examples:
            badreq:
              value: { status: error, message: "Validation error", data: { field: "name" } }
    '401':
      description: Не авторизовано
      content:
        application/json:
          schema: { $ref: ../../components/schemas/ApiResponse.yaml }
          examples:
            unauth:
              value: { status: error, message: "Not authorized", data: null }
