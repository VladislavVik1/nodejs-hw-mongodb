parameters:
  - $ref: ../../../components/parameters.yaml#/ContactId

get:
  tags: [Contacts]
  summary: Получить контакт по id
  security:
    - bearerAuth: []
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../../../components/schemas/ApiResponse.yaml
              - type: object
                properties:
                  data:
                    $ref: ../../../components/schemas/Contact.yaml
    '401':
      $ref: ../../../components/responses/UnauthorizedError.yaml
    '404':
      description: Не найдено
      content:
        application/json:
          schema: { $ref: ../../../components/schemas/ApiResponse.yaml }
          examples:
            notfound:
              value: { status: error, message: "Not found", data: null }

patch:
  tags: [Contacts]
  summary: Частично обновить контакт (multipart/form-data)
  security:
    - bearerAuth: []
  requestBody:
    required: true
    content:
      multipart/form-data:
        schema:
          $ref: ../../../components/schemas/ContactUpdate.yaml
  responses:
    '200':
      description: Обновлено
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../../../components/schemas/ApiResponse.yaml
              - type: object
                properties:
                  data:
                    $ref: ../../../components/schemas/Contact.yaml
    '400':
      $ref: ../../../components/responses/ValidationError.yaml
    '401':
      $ref: ../../../components/responses/UnauthorizedError.yaml
    '404':
      description: Не найдено
      content:
        application/json:
          schema: { $ref: ../../../components/schemas/ApiResponse.yaml }
          examples:
            notfound:
              value: { status: error, message: "Not found", data: null }

delete:
  tags: [Contacts]
  summary: Удалить контакт
  security:
    - bearerAuth: []
  responses:
    '204':
      description: Удалено, без тела
    '401':
      $ref: ../../../components/responses/UnauthorizedError.yaml
    '404':
      description: Не найдено
      content:
        application/json:
          schema: { $ref: ../../../components/schemas/ApiResponse.yaml }
          examples:
            notfound:
              value: { status: error, message: "Not found", data: null }
